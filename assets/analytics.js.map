{"version":3,"sources":["webpack://sites-locations-starter/./src/analytics.js"],"names":["seed","Date","now","Math","floor","random","pixelURL","data","v","p","key","hasOwnProperty","encodeURIComponent","window","trackAnalytics","businessId","siteId","entityId","isStaging","jsonData","document","referrer","location","pathname","pixel","px","createElement","src","style","width","height","position","alt","body","appendChild"],"mappings":";;;;;AAAA,SAASA,IAAT,GAAgB;AACZ,SAAOC,IAAI,CAACC,GAAL,KAAaC,IAAI,CAACC,KAAL,CAAW,OAAOD,IAAI,CAACE,MAAL,EAAlB,CAApB;AACD;;AAED,SAASC,QAAT,CAAkBC,IAAlB,EAAwB;AACtBA,MAAI,CAACC,CAAL,GAASR,IAAI,EAAb;AACA,MAAIS,CAAC,GAAG,qDAAR;;AACA,OAAK,IAAIC,GAAT,IAAgBH,IAAhB,EAAsB;AACpB,QAAIA,IAAI,CAACI,cAAL,CAAoBD,GAApB,KAA4B,CAAC,CAACH,IAAI,CAACG,GAAD,CAAtC,EAA6C;AAC3CD,OAAC,eAAQC,GAAR,cAAeE,kBAAkB,CAACL,IAAI,CAACG,GAAD,CAAL,CAAjC,CAAD;AACD;AACF;;AAED,SAAOD,CAAP;AACD;;AAEDI,MAAM,CAACC,cAAP,GAAwB,UAACC,UAAD,EAAaC,MAAb,EAAqBC,QAArB,EAAkC;AACxD,MAAIC,SAAS,EAAb,EAAiB;AACf;AACD;;AAED,MAAIC,QAAQ,GAAG;AACb,qBAAiBN,MAAM,CAACO,QAAP,CAAgBC,QADpB;AAEb,eAAWR,MAAM,CAACS,QAAP,CAAgBC,QAFd;AAGb,iBAAa,UAHA;AAIb,mBAAeR,UAJF;AAKb,cAAUC,MALG;AAMb,WAAOC;AANM,GAAf;AASA,MAAIO,KAAK,GAAGlB,QAAQ,CAACa,QAAD,CAApB;AACA,MAAMM,EAAE,GAAGL,QAAQ,CAACM,aAAT,CAAuB,KAAvB,CAAX;AACAD,IAAE,CAACE,GAAH,GAASH,KAAT;AACAC,IAAE,CAACG,KAAH,CAASC,KAAT,GAAiB,GAAjB;AACAJ,IAAE,CAACG,KAAH,CAASE,MAAT,GAAkB,GAAlB;AACAL,IAAE,CAACG,KAAH,CAASG,QAAT,GAAoB,UAApB;AACAN,IAAE,CAACO,GAAH,GAAS,EAAT;AACAZ,UAAQ,CAACa,IAAT,CAAcC,WAAd,CAA0BT,EAA1B;AACD,CAtBD,C","file":"analytics.js","sourcesContent":["function seed() {\n    return Date.now() + Math.floor(1000 * Math.random());\n  }\n  \n  function pixelURL(data) {\n    data.v = seed();\n    let p = '//www.yext-pixel.com/store_pagespixel?product=sites';\n    for (var key in data) {\n      if (data.hasOwnProperty(key) && !!data[key]) {\n        p += `&${key}=${encodeURIComponent(data[key])}`;\n      }\n    }\n  \n    return p;\n  }\n  \n  window.trackAnalytics = (businessId, siteId, entityId) => {\n    if (isStaging()) {\n      return;\n    }\n  \n    var jsonData = {\n      'pagesReferrer': window.document.referrer,\n      'pageurl': window.location.pathname,\n      'eventType': \"pageview\",\n      'businessids': businessId,\n      'siteId': siteId,\n      'ids': entityId,\n    };\n      \n    var pixel = pixelURL(jsonData);\n    const px = document.createElement(\"img\");\n    px.src = pixel;\n    px.style.width = '0';\n    px.style.height = '0';\n    px.style.position = 'absolute';\n    px.alt = '';\n    document.body.appendChild(px);\n  };"],"sourceRoot":""}