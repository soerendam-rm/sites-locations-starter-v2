{"version":3,"sources":["webpack://sites-locations-starter/./src/analytics.js"],"names":["window","trackAnalytics","businessId","siteId","entityId","isStaging","pixel","data","v","Date","now","Math","floor","random","p","key","hasOwnProperty","encodeURIComponent","pixelURL","document","referrer","location","pathname","px","createElement","src","style","width","height","position","alt","body","appendChild"],"mappings":"AAgBEA,OAAOC,eAAiB,SAACC,EAAYC,EAAQC,GAC3C,IAAIC,YAAJ,CAIA,IASIC,EA1BN,SAAkBC,GAChBA,EAAKC,EAJEC,KAAKC,MAAQC,KAAKC,MAAM,IAAOD,KAAKE,UAK3C,IAAIC,EAAI,sDACR,IAAK,IAAIC,KAAOR,EACVA,EAAKS,eAAeD,IAAUR,EAAKQ,KACrCD,GAAK,IAAJ,OAAQC,EAAR,YAAeE,mBAAmBV,EAAKQ,MAI5C,OAAOD,EAiBKI,CATG,CACb,cAAiBlB,OAAOmB,SAASC,SACjC,QAAWpB,OAAOqB,SAASC,SAC3B,UAAa,WACb,YAAepB,EACf,OAAUC,EACV,IAAOC,IAIHmB,EAAKJ,SAASK,cAAc,OAClCD,EAAGE,IAAMnB,EACTiB,EAAGG,MAAMC,MAAQ,IACjBJ,EAAGG,MAAME,OAAS,IAClBL,EAAGG,MAAMG,SAAW,WACpBN,EAAGO,IAAM,GACTX,SAASY,KAAKC,YAAYT","file":"analytics.js","sourcesContent":["function seed() {\n    return Date.now() + Math.floor(1000 * Math.random());\n  }\n  \n  function pixelURL(data) {\n    data.v = seed();\n    let p = '//www.yext-pixel.com/store_pagespixel?product=sites';\n    for (var key in data) {\n      if (data.hasOwnProperty(key) && !!data[key]) {\n        p += `&${key}=${encodeURIComponent(data[key])}`;\n      }\n    }\n  \n    return p;\n  }\n  \n  window.trackAnalytics = (businessId, siteId, entityId) => {\n    if (isStaging()) {\n      return;\n    }\n  \n    var jsonData = {\n      'pagesReferrer': window.document.referrer,\n      'pageurl': window.location.pathname,\n      'eventType': \"pageview\",\n      'businessids': businessId,\n      'siteId': siteId,\n      'ids': entityId,\n    };\n      \n    var pixel = pixelURL(jsonData);\n    const px = document.createElement(\"img\");\n    px.src = pixel;\n    px.style.width = '0';\n    px.style.height = '0';\n    px.style.position = 'absolute';\n    px.alt = '';\n    document.body.appendChild(px);\n  };"],"sourceRoot":""}